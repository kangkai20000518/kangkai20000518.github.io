---
layout: post
title: Create a post!
---

In this post, I'll show Write a tutorial explaining how to construct an interesting data visualization of the Palmer Penguins data set. 

## input Data

```python
import pandas as pd
url = "https://raw.githubusercontent.com/PhilChodrow/PIC16B/master/datasets/palmer_penguins.csv"
penguins = pd.read_csv(url)
```

The above code can help us download the data set of palmer_penguins which we going to use

## clean Data
```python

cols = ["Species", "Region", "Island", "Culmen Length (mm)", "Culmen Depth (mm)", "Sex"]

# select a subset of columns
penguins = penguins[cols]

# shorten the species name
penguins["Species"] = penguins["Species"].str.split().str.get(0)

#Shorten names of columns
penguins["Length"]=penguins["Culmen Length (mm)"]
penguins["Depth"]=penguins["Culmen Depth (mm)"]

penguins = penguins.drop(labels=["Culmen Depth (mm)","Culmen Length (mm)"],axis=1)

#keys are original data codes
#vaues are new data codes
recode={
    "MALE":"M",
    "FEMALE":"F",
    np.nan:"unknown",
    ".":"unknown"
}#change nan and "." to unknown

penguins["Sex"]=penguins["Sex"].map(recode)
```

Before we do the visualization we need to do the preparation!!!! Like drop all the NA in the data set and change the sex of male to M female to F.Also shorten names of columns.

## show data set after preprocessing

{::options parse_block_html="true" /}
<div class="got-help">
```python
penguins.head()
```
We did a very good job!!!! Yeah!!!
</div>
{::options parse_block_html="false" /}

## Make the plot

{::options parse_block_html="true" /}
<div class="got-help">
Finally!! we can do the plot, which I am going to use plt.subplots to make it more interesting!!! 
```python
fig, ax = plt.subplots(1)
##by using apply funciton we can make a great hist 
def plot_hist(df, colname, alpha):
    ax.hist(df[colname], alpha = alpha)
    ax.set(xlabel="Culmen Length ")
penguins.groupby("Species").apply(plot_hist, 'Length', 0.5)
ax.legend(['Adelie', 'Chinstrap', 'Gentoo'])
```
![image-example.png]({{ site.baseurl }}/images/image-example1.png)

Our plot looks great! Although I didn't use complex funciton but we still can make some conclusion like there is a very significant different Culmen Length between three species. 

</div>
{::options parse_block_html="false" /}